# Зависимости
Для работы необходимо установить [NodeJS](https://nodejs.org/), [MongoDB](https://www.mongodb.com/try/download/community). 
Если планируется обновлять через [git](https://git-scm.com/), то и git клиент.

## Установка
После установки зависимостей, если выбран вариан обновления git, перейти в каталог, куда будет установлено приложение, ввести команду:
```
git clone https://github.com/mgladkovspb/contracts.git
npm ci
```

### Сборка и запуск
```
npm run build
node app.js
```

### Параметры командной строки
По умолчанию приложение запускается со следующими настройками:
```js
PORT: 3000
conn: mongodb://localhost:27017/contract
```
Изменить поведение по умолчанию можно с помощью параметров командной строки `node app.js --help`
```
--port - порт, на котором будет запущен сервер. значение по умолчанию 3000
--conn - строка подключения к базе данных
--ssl - использовать защищенное соединение
Обязательные параметры к ключу --ssl
  --key - путь к файлу ключа
  --file - путь к файлу сертификата

Сервисные команды')
create-user - создать нового пользователя
Обязательные параметры команды
  --name - имя пользователя
  --password - пароль

delete-user - удалить пользователя
Обязательные параметры команды
  --name - имя пользователя

Примеры:
  node ./app.js create-user --name=user --password=qwerty
  node ./app.js delete-user --name=user
```

### Обновление
Для обновления - перейти в каталог приложения, выполнить команду `git pull`. Далее, действовать как описано в разделе `Сборка и запуск`
